warning: C:\current_projects\Raven-Rewrite\crates\cli\magpie\Cargo.toml: file `C:\current_projects\Raven-Rewrite\crates\cli\magpie\src\main.rs` found to be present in multiple build targets:
  * `lib` target `magpie`
  * `bin` target `magpie`
warning: unused import: `PatternId`
 --> crates\analysis\rv-hir\src\exhaustiveness.rs:5:51
  |
5 | use crate::{Body, LiteralKind, MatchArm, Pattern, PatternId};
  |                                                   ^^^^^^^^^
  |
  = note: `#[warn(unused_imports)]` (part of `#[warn(unused)]`) on by default

warning: `rv-hir` (lib) generated 1 warning (run `cargo fix --lib -p rv-hir` to apply 1 suggestion)
warning: unreachable pattern
   --> crates\analysis\rv-mir\src\lower.rs:597:13
    |
597 |             _ => {
    |             ^ no value can reach this
    |
note: multiple earlier patterns match some of the same values
   --> crates\analysis\rv-mir\src\lower.rs:597:13
    |
149 |               Expr::Literal { kind, span } => {
    |               ---------------------------- matches some of the same values
...
161 |               Expr::Variable { name, def: _, span } => {
    |               ------------------------------------- matches some of the same values
...
186 | /             Expr::BinaryOp {
187 | |                 op,
188 | |                 left,
189 | |                 right,
190 | |                 span,
191 | |             } => {
    | |_____________- matches some of the same values
...
206 |               Expr::UnaryOp { op, operand, span } => {
    |               ----------------------------------- matches some of the same values
...
597 |               _ => {
    |               ^ ...and 8 other patterns collectively make this unreachable
    = note: `#[warn(unreachable_patterns)]` (part of `#[warn(unused)]`) on by default

warning: `rv-mir` (lib) generated 1 warning
   Compiling rv-llvm-backend v0.1.0 (C:\current_projects\Raven-Rewrite\crates\codegen\rv-llvm-backend)
warning: creating a shared reference to mutable static
  --> crates\codegen\rv-llvm-backend\src\codegen.rs:49:13
   |
49 |             GLOBAL_CONTEXT.as_ref().unwrap().as_ref()
   |             ^^^^^^^^^^^^^^^^^^^^^^^ shared reference to mutable static
   |
   = note: for more information, see <https://doc.rust-lang.org/edition-guide/rust-2024/static-mut-references.html>
   = note: shared references to mutable statics are dangerous; it's undefined behavior if the static is mutated or if a mutable reference is created for it while the shared reference lives
   = note: `#[warn(static_mut_refs)]` (part of `#[warn(rust_2024_compatibility)]`) on by default

   Compiling magpie v0.1.0 (C:\current_projects\Raven-Rewrite\crates\cli\magpie)
warning: `rv-llvm-backend` (lib) generated 1 warning
warning: unused import: `rv_ty::TyContext`
  --> crates\cli\magpie\src\backends\llvm.rs:24:13
   |
24 |         use rv_ty::TyContext;
   |             ^^^^^^^^^^^^^^^^
   |
   = note: `#[warn(unused_imports)]` (part of `#[warn(unused)]`) on by default

warning: function `main` is never used
  --> crates\cli\magpie\src\main.rs:70:4
   |
70 | fn main() -> Result<()> {
   |    ^^^^
   |
   = note: `#[warn(dead_code)]` (part of `#[warn(unused)]`) on by default

warning: function `get_project_dir` is never used
  --> crates\cli\magpie\src\main.rs:85:4
   |
85 | fn get_project_dir(cli: &Cli) -> PathBuf {
   |    ^^^^^^^^^^^^^^^

warning: function `cmd_build` is never used
  --> crates\cli\magpie\src\main.rs:91:4
   |
91 | fn cmd_build(cli: &Cli) -> Result<()> {
   |    ^^^^^^^^^

warning: function `cmd_run` is never used
   --> crates\cli\magpie\src\main.rs:118:4
    |
118 | fn cmd_run(cli: &Cli, args: &[String]) -> Result<()> {
    |    ^^^^^^^

warning: function `cmd_test` is never used
   --> crates\cli\magpie\src\main.rs:137:4
    |
137 | fn cmd_test(cli: &Cli) -> Result<()> {
    |    ^^^^^^^^

warning: function `cmd_check` is never used
   --> crates\cli\magpie\src\main.rs:174:4
    |
174 | fn cmd_check(cli: &Cli) -> Result<()> {
    |    ^^^^^^^^^

warning: function `cmd_clean` is never used
   --> crates\cli\magpie\src\main.rs:186:4
    |
186 | fn cmd_clean(cli: &Cli) -> Result<()> {
    |    ^^^^^^^^^

warning: function `cmd_new` is never used
   --> crates\cli\magpie\src\main.rs:197:4
    |
197 | fn cmd_new(name: String, lib: bool) -> Result<()> {
    |    ^^^^^^^

   Compiling integration-tests v0.1.0 (C:\current_projects\Raven-Rewrite\crates\testing\integration-tests)
warning: `magpie` (lib) generated 9 warnings (run `cargo fix --lib -p magpie` to apply 1 suggestion)
    Finished `release` profile [optimized] target(s) in 1m 08s
     Running unittests src\lib.rs (C:\target\release\deps\integration_tests-df86a80900a76747.exe)

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

     Running tests\magpie_tests.rs (C:\target\release\deps\magpie_tests-6b1fad5c9d2f9e82.exe)

running 1 test

==== Testing project: 01-basic-arithmetic ====

  -- Interpreter Backend --
Testing basic-arithmetic v0.1.0
Running test: test_multiplication
  ✓ test_multiplication
Running test: test_complex_expression
  ✓ test_complex_expression
Running test: test_division
  ✓ test_division
Running test: test_subtraction
  ✓ test_subtraction
Running test: test_addition
  ✓ test_addition

  -- JIT Backend --
Testing basic-arithmetic v0.1.0 (JIT)
Running test: test_multiplication
  ✓ test_multiplication
Running test: test_subtraction
  ✓ test_subtraction
Running test: test_division
  ✓ test_division
Running test: test_addition
  ✓ test_addition
Running test: test_complex_expression
  ✓ test_complex_expression

  -- LLVM Backend --
Starting LLVM compilation...
LLVM compilation finished
LLVM backend compiled successfully
Note: LLVM backend currently runs entry point only
Attempting to execute binary...
Entry point returned: 1
  ✓ test_multiplication (compiled)
  ✓ test_subtraction (compiled)
  ✓ test_division (compiled)
  ✓ test_complex_expression (compiled)
  ✓ test_addition (compiled)

==== Testing project: 02-control-flow ====

  -- Interpreter Backend --
Testing control-flow v0.1.0
Running test: test_if_with_arithmetic
  ✓ test_if_with_arithmetic
Running test: test_nested_if
  ✓ test_nested_if
Running test: test_if_true
  ✓ test_if_true
Running test: test_if_false
  ✓ test_if_false

  -- JIT Backend --
Testing control-flow v0.1.0 (JIT)
Running test: test_if_true
  ✓ test_if_true
Running test: test_if_false
  ✓ test_if_false
Running test: test_nested_if
  ✓ test_nested_if
Running test: test_if_with_arithmetic
  ✓ test_if_with_arithmetic

  -- LLVM Backend --
Starting LLVM compilation...
LLVM compilation finished
LLVM backend compiled successfully
Note: LLVM backend currently runs entry point only
Attempting to execute binary...
Entry point returned: 1
  ✓ test_nested_if (compiled)
  ✓ test_if_true (compiled)
  ✓ test_if_false (compiled)
  ✓ test_if_with_arithmetic (compiled)

==== Testing project: 03-comparisons ====

  -- Interpreter Backend --
Testing comparisons v0.1.0
Running test: test_less_equal
  ✓ test_less_equal
Running test: test_less_than
  ✓ test_less_than
Running test: test_inequality
  ✓ test_inequality
Running test: test_greater_equal
  ✓ test_greater_equal
Running test: test_equality
  ✓ test_equality
Running test: test_greater_than
  ✓ test_greater_than

  -- JIT Backend --
Testing comparisons v0.1.0 (JIT)
Running test: test_equality
  ✓ test_equality
Running test: test_inequality
  ✓ test_inequality
Running test: test_less_equal
  ✓ test_less_equal
Running test: test_greater_than
  ✓ test_greater_than
Running test: test_greater_equal
  ✓ test_greater_equal
Running test: test_less_than
  ✓ test_less_than

  -- LLVM Backend --
Starting LLVM compilation...
LLVM compilation finished
LLVM backend compiled successfully
Note: LLVM backend currently runs entry point only
Attempting to execute binary...
Entry point returned: 1
  ✓ test_less_equal (compiled)
  ✓ test_greater_than (compiled)
  ✓ test_less_than (compiled)
  ✓ test_inequality (compiled)
  ✓ test_greater_equal (compiled)
  ✓ test_equality (compiled)

==== Testing project: 10-generics ====

  -- Interpreter Backend --
Testing generics v0.1.0
Running test: test_identity
  ✓ test_identity
Running test: test_max_reversed
  ✓ test_max_reversed
Running test: test_max_equal
  ✓ test_max_equal
Running test: test_identity_different_value
  ✓ test_identity_different_value
Running test: test_max
  ✓ test_max

  -- JIT Backend --
Testing generics v0.1.0 (JIT)
Running test: test_max_reversed
  ✓ test_max_reversed
Running test: test_identity_different_value
  ✓ test_identity_different_value
Running test: test_identity
  ✓ test_identity
Running test: test_max
  ✓ test_max
Running test: test_max_equal
  ✓ test_max_equal

  -- LLVM Backend --
Starting LLVM compilation...
LLVM compilation finished
Compilation failed: Right operand is not an integer: PointerValue(PointerValue { ptr_value: Value { name: "load3", address: 0x1905b447f10, is_const: false, is_null: false, is_undef: false, llvm_value: "  %load3 = load ptr, ptr %local_7, align 8", llvm_type: "ptr" } })
  ✗ test_max_equal - compilation failed
  ✗ test_identity_different_value - compilation failed
  ✗ test_max_reversed - compilation failed
  ✗ test_max - compilation failed
  ✗ test_identity - compilation failed

==== Testing project: 11-pattern-matching ====

  -- Interpreter Backend --

>>> Executing test_match_1_ordered
<<< Result: Ok(Bool(true))


>>> Executing test_match_2_ordered
<<< Result: Ok(Bool(true))


>>> Executing test_match_2_reversed
<<< Result: Ok(Bool(true))


>>> Executing test_match_wildcard_ordered
<<< Result: Ok(Bool(true))

Testing pattern-matching v0.1.0
Running test: test_match_1_ordered
  ✓ test_match_1_ordered
Running test: test_match_2_ordered
  ✓ test_match_2_ordered
Running test: test_match_2_reversed
  ✓ test_match_2_reversed
Running test: test_match_wildcard_ordered
  ✓ test_match_wildcard_ordered
Running test: test_pattern_binding
  ✓ test_pattern_binding
Running test: test_pattern_binding_with_literal
  ✓ test_pattern_binding_with_literal

  -- JIT Backend --
Testing pattern-matching v0.1.0 (JIT)
Running test: test_match_wildcard_ordered
  ✓ test_match_wildcard_ordered
Running test: test_match_2_ordered
  ✓ test_match_2_ordered
Running test: test_match_1_ordered
  ✓ test_match_1_ordered
Running test: test_pattern_binding
  ✓ test_pattern_binding
Running test: test_match_2_reversed
  ✓ test_match_2_reversed
Running test: test_pattern_binding_with_literal
  ✓ test_pattern_binding_with_literal

  -- LLVM Backend --
Starting LLVM compilation...
LLVM compilation finished
LLVM backend compiled successfully
Note: LLVM backend currently runs entry point only
Attempting to execute binary...
Entry point returned: 42
  ✓ test_pattern_binding (compiled)
  ✓ test_match_2_reversed (compiled)
  ✓ test_pattern_binding_with_literal (compiled)
  ✓ test_match_2_ordered (compiled)
  ✓ test_match_1_ordered (compiled)
  ✓ test_match_wildcard_ordered (compiled)

==== Testing project: 11-structs ====

  -- Interpreter Backend --
Testing test-structs v0.1.0

  -- JIT Backend --
Testing test-structs v0.1.0 (JIT)

  -- LLVM Backend --
Starting LLVM compilation...
LLVM compilation finished
Compilation failed: Left operand is not an integer: StructValue(StructValue { struct_value: Value { name: "load2", address: 0x1905b4789d0, is_const: false, is_null: false, is_undef: false, llvm_value: "  %load2 = load { i32, i32 }, ptr %local_6, align 4", llvm_type: "{ i32, i32 }" } })
  ✗ test_struct_creation - compilation failed

==== Testing project: 12-methods ====

  -- Interpreter Backend --
DEBUG: Test test_method_call error: type mismatch: expected Unit, got Int(5)
Testing test-methods v0.1.0
Running test: test_method_call
  ✗ test_method_call - type mismatch: expected Unit, got Int(5)
Running test: test_method_with_computation
  ✓ test_method_with_computation

  -- JIT Backend --
Testing test-methods v0.1.0 (JIT)
Running test: test_method_call
  ✓ test_method_call
Running test: test_method_with_computation
  ✓ test_method_with_computation

  -- LLVM Backend --
Starting LLVM compilation...
LLVM compilation finished
Compilation failed: Expected struct type for field access but got IntType(IntType { int_type: Type { address: 0x1905b484930, llvm_type: "i32" } })
  ✗ test_method_call - compilation failed
  ✗ test_method_with_computation - compilation failed

==== Testing project: 13-advanced-patterns ====

  -- Interpreter Backend --
Testing advanced-patterns v0.1.0
Running test: test_range_inclusive
  ✓ test_range_inclusive
Running test: test_or_pattern
  ✓ test_or_pattern
Running test: test_combined_patterns
  ✓ test_combined_patterns
Running test: test_range_exclusive
  ✓ test_range_exclusive

  -- JIT Backend --
Testing advanced-patterns v0.1.0 (JIT)
Running test: test_or_pattern
  ✓ test_or_pattern
Running test: test_range_inclusive
  ✓ test_range_inclusive
Running test: test_range_exclusive
  ✓ test_range_exclusive
Running test: test_combined_patterns
  ✓ test_combined_patterns

  -- LLVM Backend --
Starting LLVM compilation...
LLVM compilation finished
LLVM backend compiled successfully
Note: LLVM backend currently runs entry point only
Attempting to execute binary...
Entry point returned: 1
  ✓ test_range_exclusive (compiled)
  ✓ test_range_inclusive (compiled)
  ✓ test_combined_patterns (compiled)
  ✓ test_or_pattern (compiled)

==== Testing project: 14-traits ====

  -- Interpreter Backend --
Testing traits v0.1.0

  -- JIT Backend --
Testing traits v0.1.0 (JIT)

  -- LLVM Backend --
Starting LLVM compilation...
LLVM compilation finished
LLVM backend compiled successfully
Note: LLVM backend currently runs entry point only
Attempting to execute binary...
Entry point returned: 0

==== Testing project: 15-extern-ffi ====

  -- Interpreter Backend --
Testing extern-ffi v0.1.0

  -- JIT Backend --
Testing extern-ffi v0.1.0 (JIT)

  -- LLVM Backend --
Starting LLVM compilation...
LLVM compilation finished
LLVM backend compiled successfully
Note: LLVM backend currently runs entry point only
Attempting to execute binary...
Entry point returned: 42

==== Summary ====
Total projects tested: 10
Total tests passed: 88
Total tests failed: 9

thread 'test_all_projects' (9864) panicked at crates\testing\integration-tests\tests\magpie_tests.rs:152:9:
Some projects had failing tests: ["10-generics (llvm)", "11-structs (llvm)", "12-methods (interpreter)", "12-methods (llvm)"]
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace
test test_all_projects ... FAILED

failures:

failures:
    test_all_projects

test result: FAILED. 0 passed; 1 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.42s

error: test failed, to rerun pass `-p integration-tests --test magpie_tests`
